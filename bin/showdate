#!/bin/bash

NOW=$(date +'W%-V %a %-e %b %-l:%M %p %Z %Y')

message() {
    local opt=(
        -file -
        -default okay
        -fg white
        -bg black
        -center
        -timeout 3
    )
    echo $NOW | xmessage ${opt[@]}
}

menu() {
    local opt=(
        -l 10
        -p date:
    )
    echo $NOW | dmenu ${opt[@]}
}

usage() {
    local app=$(basename $0)
    cat <<EOF
$app {-m|-h}
-m  use xmessage, dmenu as default
-h  print this help
EOF
}

case $1 in
    -m )
        message
        ;;
    -h )
        usage
        ;;
    * )
        menu
        ;;
esac
